<VirtualHost *:80>
    ServerName mylab.prograis.loc
    ServerAlias 127.0.0.1 192.168.122.233

    # Répertoire racine du site
    DocumentRoot /var/www/html

    # Protection LDAP pour le sous-répertoire /mylab
    <Directory "/var/www/html/mylab">
        Options Indexes FollowSymLinks
        AllowOverride None

        # Authentification LDAP
        AuthType Basic
        AuthName "Zone protégée"
        AuthBasicProvider ldap

        AuthLDAPURL "ldap://192.168.122.233/dc=prograis,dc=loc?uid"
        AuthLDAPBindDN "cn=admin,dc=prograis,dc=loc"
        AuthLDAPBindPassword Shawnthebest1*

        Require valid-user
    </Directory>

    # Logs
    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined
</VirtualHost>
